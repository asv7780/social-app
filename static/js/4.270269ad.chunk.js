(window["webpackJsonpmy-app"]=window["webpackJsonpmy-app"]||[]).push([[4],{140:function(t,e,n){"use strict";var a=n(9),o=n.n(a),r=n(20),s=n.n(r),u=n(0),i=n.n(u),c=n(55),l=n(2),p=n.n(l),m=n(49),d=function(t){function e(e){var n;if(n=t.call(this,e)||this,!e._reduxForm)throw new Error("Form must be inside a component decorated with reduxForm()");return n}s()(e,t);var n=e.prototype;return n.UNSAFE_componentWillMount=function(){this.props._reduxForm.registerInnerOnSubmit(this.props.onSubmit)},n.render=function(){var t=this.props,e=(t._reduxForm,o()(t,["_reduxForm"]));return i.a.createElement("form",e)},e}(u.Component);d.propTypes={onSubmit:p.a.func.isRequired,_reduxForm:p.a.object},Object(c.a)(d),e.a=Object(m.b)(d)},296:function(t,e,n){t.exports={descriptionBlock:"ProfileInfo_descriptionBlock__3cd8Y",profileImg:"ProfileInfo_profileImg__3mXT7"}},297:function(t,e,n){t.exports={postsBlock:"MyPosts_postsBlock__2ifKf",posts:"MyPosts_posts__3tZ1c"}},298:function(t,e,n){t.exports={item:"Post_item__ihtu9"}},299:function(t,e,n){"use strict";n.r(e);var a=n(27),o=n(28),r=n(30),s=n(29),u=n(31),i=n(0),c=n.n(i),l=n(296),p=n.n(l),m=(c.a.Component,n(65)),d=n(129),f=function(t){var e=Object(i.useState)(!1),n=Object(d.a)(e,2),a=n[0],o=n[1],r=Object(i.useState)(t.status),s=Object(d.a)(r,2),u=s[0],l=s[1];Object(i.useEffect)(function(){l(t.status)},[t.status]);return c.a.createElement("div",null,!a&&c.a.createElement("div",null,c.a.createElement("span",{onDoubleClick:function(){o(!0)}},t.status||"ddd")),a&&c.a.createElement("div",null,c.a.createElement("input",{onChange:function(t){l(t.currentTarget.value)},autoFocus:!0,onBlur:function(){o(!1),t.updateStatus(u)},value:u})))},b=n(106),h=n.n(b),E=function(t){var e=t.profile,n=t.status,a=t.updateStatus;return e?c.a.createElement("div",null,c.a.createElement("div",{className:p.a.descriptionBlock},c.a.createElement("img",{className:p.a.profileImg,src:null!=e.photos.small?e.photos.small:h.a,alt:"profile-img"}),c.a.createElement(f,{status:n,updateStatus:a}))):c.a.createElement(m.a,null)},v=n(95),_=n(297),g=n.n(_),j=n(298),O=n.n(j),P=function(t){return c.a.createElement("div",{className:O.a.item},c.a.createElement("img",{src:"https://upload.wikimedia.org/wikipedia/commons/9/96/User_icon-cp.png",alt:"logo-user"}),t.post,c.a.createElement("div",null,c.a.createElement("span",null,"likes: ",t.likesCount)))},S=n(140),k=n(88),w=n(128),x=n(54),y=n(37),F=Object(x.a)(10),I=Object(x.b)(2),C=c.a.memo(function(t){var e=t.posts.map(function(t){return c.a.createElement(P,{id:t.id,post:t.post,likesCount:t.likesCount,key:t.id})});return c.a.createElement("div",{className:g.a.postsBlock},c.a.createElement("h3",null,"My posts"),c.a.createElement(U,{onSubmit:function(e){t.addPost(e.newPostText)}}),c.a.createElement("div",{className:g.a.posts},e))}),U=Object(w.a)({form:"ProfileAddNewPostForm"})(function(t){return c.a.createElement(S.a,{onSubmit:t.handleSubmit},c.a.createElement("div",null,c.a.createElement(k.a,{name:"newPostText",component:y.b,validate:[x.c,F,I]})),c.a.createElement("div",null,c.a.createElement("button",null,"Add post")))}),B=C,N=n(10),T=Object(N.b)(function(t){return{posts:t.profilePage.posts,newPostText:t.profilePage.newPostText}},function(t){return{addPost:function(e){t(Object(v.a)(e))}}})(B),A=function(t){return c.a.createElement("div",null,c.a.createElement(E,{profile:t.profile,status:t.status,updateStatus:t.updateStatus}),c.a.createElement(T,null))},M=n(24),z=n(94),D=n(6),J=function(t){function e(){return Object(a.a)(this,e),Object(r.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(o.a)(e,[{key:"componentDidMount",value:function(){var t=this.props.match.params.userId;t||(t=this.props.authorizedUserId),this.props.getUserProfile(t),this.props.getUserStatus(t)}},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(A,Object.assign({},this.props,{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus})))}}]),e}(c.a.Component);e.default=Object(D.d)(Object(N.b)(function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorizedUserId:t.auth.userId,isAuth:t.auth.isAuth}},{getUserProfile:v.c,getUserStatus:v.d,updateStatus:v.e}),M.f,z.a)(J)}}]);
//# sourceMappingURL=4.270269ad.chunk.js.map