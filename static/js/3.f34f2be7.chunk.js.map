{"version":3,"sources":["../node_modules/redux-form/es/Form.js","components/Dialogs/Dialogs.module.css","components/Dialogs/DialogItem/DialogItem.module.css","components/Dialogs/Message/Message.module.css","components/Dialogs/DialogItem/DialogItem.jsx","components/Dialogs/Message/Message.jsx","components/Dialogs/AddMessageForm/AddMessageForm.jsx","components/Dialogs/Dialogs.jsx","components/Dialogs/DialogsContainer.jsx"],"names":["Form","_Component","props","_this","call","this","_reduxForm","Error","_proto","prototype","UNSAFE_componentWillMount","registerInnerOnSubmit","onSubmit","render","_this$props","rest","createElement","propTypes","func","isRequired","object","module","exports","DialogItem","path","id","className","s","dialogsItem","src","userPhoto","alt","dialog","to","name","Message","text","maxLength100","maxLength","reduxForm","form","handleSubmit","Field","component","Textarea","validate","required","placeholder","Dialogs","state","dialogsPage","dialogsElements","dialogs","map","d","key","messagesElements","messages","m","message","newMessageText","isAuth","dialogsItems","values","sendMessage","newMessageBody","mapStateToProps","mapDispatchToProps","dispatch","sendMessageCreator","compose","connect","withAuthRedirect"],"mappings":"4GAAA,qFAOIA,EAEJ,SAAUC,GAGR,SAASD,EAAKE,GACZ,IAAIC,EAIJ,GAFAA,EAAQF,EAAWG,KAAKC,KAAMH,IAAUG,MAEnCH,EAAMI,WACT,MAAM,IAAIC,MAAM,8DAGlB,OAAOJ,EAXT,IAAeH,EAAMC,GAcrB,IAAIO,EAASR,EAAKS,UAclB,OAZAD,EAAOE,0BAA4B,WACjCL,KAAKH,MAAMI,WAAWK,sBAAsBN,KAAKH,MAAMU,WAGzDJ,EAAOK,OAAS,WACd,IAAIC,EAAcT,KAAKH,MAEnBa,GADaD,EAAYR,WAClB,IAA8BQ,EAAa,CAAC,gBAEvD,OAAO,IAAME,cAAc,OAAQD,IAG9Bf,EA7BT,CA8BE,aAEFA,EAAKiB,UAAY,CACfL,SAAU,IAAUM,KAAKC,WACzBb,WAAY,IAAUc,QAExB,YAASpB,GACM,gBAAcA,I,oBC7C7BqB,EAAOC,QAAU,CAAC,QAAU,yBAAyB,OAAS,wBAAwB,aAAe,8BAA8B,OAAS,wBAAwB,SAAW,4B,oBCA/KD,EAAOC,QAAU,CAAC,OAAS,2BAA2B,aAAe,iCAAiC,OAAS,2BAA2B,YAAc,kC,oBCAxJD,EAAOC,QAAU,CAAC,OAAS,wBAAwB,aAAe,8BAA8B,OAAS,wBAAwB,SAAW,4B,iHCa7HC,EAVI,SAACrB,GAChB,IAAIsB,EAAO,YAActB,EAAMuB,GAC/B,OACE,yBAAKC,UAAWC,IAAEC,aACd,yBAAKC,IAAK3B,EAAM4B,UAAWC,IAAI,cAC/B,yBAAKL,UAAWC,IAAEK,QAAQ,kBAAC,IAAD,CAASC,GAAIT,GAAOtB,EAAMgC,S,kBCA/CC,EANC,SAACjC,GACb,OACI,yBAAKwB,UAAWC,IAAEK,QAAS9B,EAAMkC,O,kDCAnCC,EAAeC,YAAU,IAkBhBC,cAAU,CAACC,KAAM,wBAAjBD,CAjBQ,SAACrC,GACtB,OACE,kBAACF,EAAA,EAAD,CAAMY,SAAUV,EAAMuC,cACpB,6BACE,kBAACC,EAAA,EAAD,CAAOC,UAAWC,IACXC,SAAU,CAACC,IAAUT,GACrBH,KAAM,iBACNa,YAAY,wBAGrB,6BACE,4CCqBOC,EA9BC,SAAC9C,GACf,IAAI+C,EAAQ/C,EAAMgD,YACZC,EAAkBF,EAAMG,QAAQC,IAAI,SAAAC,GAAC,OAAI,kBAAC,EAAD,CAAYpB,KAAMoB,EAAEpB,KAAMJ,UAAWwB,EAAExB,UAAWL,GAAI6B,EAAE7B,GAC5C8B,IAAKD,EAAE7B,OAC5D+B,EAAmBP,EAAMQ,SAASJ,IAAI,SAAAK,GAAC,OAAI,kBAAC,EAAD,CAAStB,KAAMsB,EAAEC,QAASlC,GAAIiC,EAAEjC,GAAI8B,IAAKG,EAAEjC,OACvEwB,EAAMW,eAG3B,IAAK1D,EAAM2D,OACT,OAAO,kBAAC,IAAD,CAAU5B,GAAI,WAOvB,OACE,yBAAKP,UAAWC,IAAEyB,SAChB,yBAAK1B,UAAWC,IAAEmC,cACfX,GAEH,yBAAKzB,UAAWC,IAAE8B,UACfD,GAEH,kBAAC,EAAD,CAAgB5C,SAZA,SAACmD,GACnB7D,EAAM8D,YAAYD,EAAOE,qB,uBCbzBC,EAAkB,SAACjB,GACrB,MAAO,CACLC,YAAaD,EAAMC,cAInBiB,EAAqB,SAACC,GACxB,MAAO,CACLJ,YAAa,SAACC,GACZG,EAASC,YAAmBJ,OAMlCK,YACEC,YAAQL,EAAiBC,GACzBK,IAFFF,CAGEtB,GAOFsB,sBACEC,YAAQL,EAAiBC,GACzBK,IAFFF,CAGEtB","file":"static/js/3.f34f2be7.chunk.js","sourcesContent":["import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/objectWithoutPropertiesLoose\";\nimport _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nimport React, { Component } from 'react';\nimport { polyfill } from 'react-lifecycles-compat';\nimport PropTypes from 'prop-types';\nimport { withReduxForm } from './ReduxFormContext';\n\nvar Form =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(Form, _Component);\n\n  function Form(props) {\n    var _this;\n\n    _this = _Component.call(this, props) || this;\n\n    if (!props._reduxForm) {\n      throw new Error('Form must be inside a component decorated with reduxForm()');\n    }\n\n    return _this;\n  }\n\n  var _proto = Form.prototype;\n\n  _proto.UNSAFE_componentWillMount = function UNSAFE_componentWillMount() {\n    this.props._reduxForm.registerInnerOnSubmit(this.props.onSubmit);\n  };\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        _reduxForm = _this$props._reduxForm,\n        rest = _objectWithoutPropertiesLoose(_this$props, [\"_reduxForm\"]);\n\n    return React.createElement(\"form\", rest);\n  };\n\n  return Form;\n}(Component);\n\nForm.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n  _reduxForm: PropTypes.object\n};\npolyfill(Form);\nexport default withReduxForm(Form);","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__2xRSA\",\"dialog\":\"Dialogs_dialog__lk_cw\",\"dialogsItems\":\"Dialogs_dialogsItems__2sNe2\",\"active\":\"Dialogs_active__2sQhs\",\"messages\":\"Dialogs_messages__1w_Up\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialog\":\"DialogItem_dialog__3tDA2\",\"dialogsItems\":\"DialogItem_dialogsItems__3a0eN\",\"active\":\"DialogItem_active__2qnc5\",\"dialogsItem\":\"DialogItem_dialogsItem__1sKk7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialog\":\"Message_dialog__2b2b-\",\"dialogsItems\":\"Message_dialogsItems__3BxQb\",\"active\":\"Message_active__3KMb1\",\"messages\":\"Message_messages__11r0A\"};","import React from 'react';\nimport s from './DialogItem.module.css'\nimport {NavLink} from \"react-router-dom\";\n\nconst DialogItem = (props) => {\n    let path = \"/dialogs/\" + props.id;\n    return (\n      <div className={s.dialogsItem}>\n          <img src={props.userPhoto} alt=\"userPhoto\"/>\n          <div className={s.dialog}><NavLink to={path}>{props.name}</NavLink></div>\n      </div>\n    )\n};\n\nexport default DialogItem;\n\n\n","import React from 'react';\nimport s from './Message.module.css'\n\nconst Message = (props) => {\n    return (\n        <div className={s.dialog}>{props.text}</div>\n    )\n};\n\nexport default Message;\n\n\n","import React from \"react\";\nimport {maxLength, required} from \"../../../utils/validators/validators\";\nimport {Field, Form, reduxForm} from \"redux-form\";\nimport {Textarea} from \"../../common/FormControls/FormControls\";\n\nconst maxLength100 = maxLength(10);\nconst AddMessageForm = (props) => {\n  return (\n    <Form onSubmit={props.handleSubmit}>\n      <div>\n        <Field component={Textarea}\n               validate={[required, maxLength100]}\n               name={\"newMessageBody\"}\n               placeholder='Enter your message'>\n        </Field>\n      </div>\n      <div>\n        <button>Send</button>\n      </div>\n    </Form>\n  )\n};\n\nexport default reduxForm({form: \"dialogAddMessageForm\"})(AddMessageForm);\n","import React from 'react'\nimport s from './Dialogs.module.css'\nimport DialogItem from './DialogItem/DialogItem'\nimport Message from './Message/Message'\nimport {Redirect} from \"react-router-dom\";\nimport AddMessageForm from \"./AddMessageForm/AddMessageForm\";\n\n\nconst Dialogs = (props) => {\n  let state = props.dialogsPage;\n  const dialogsElements = state.dialogs.map(d => <DialogItem name={d.name} userPhoto={d.userPhoto} id={d.id}\n                                                             key={d.id}/>);\n  const messagesElements = state.messages.map(m => <Message text={m.message} id={m.id} key={m.id}/>);\n  let newMessageText = state.newMessageText;\n\n\n  if (!props.isAuth) {\n    return <Redirect to={\"/login\"}/>;\n  }\n\n  let addNewMessage = (values) => {\n    props.sendMessage(values.newMessageBody);\n  };\n\n  return (\n    <div className={s.dialogs}>\n      <div className={s.dialogsItems}>\n        {dialogsElements}\n      </div>\n      <div className={s.messages}>\n        {messagesElements}\n      </div>\n      <AddMessageForm onSubmit={addNewMessage}/>\n    </div>\n  )\n};\n\n\nexport default Dialogs\n","import React from 'react';\nimport {sendMessageCreator} from \"../../redux/dialogs-reducer\";\nimport Dialogs from \"./Dialogs\";\nimport {connect} from \"react-redux\";\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\nimport {compose} from \"redux\";\n\n\nlet mapStateToProps = (state) => {\n  return {\n    dialogsPage: state.dialogsPage,\n  }\n};\n\nlet mapDispatchToProps = (dispatch) => {\n  return {\n    sendMessage: (newMessageBody) => {\n      dispatch(sendMessageCreator(newMessageBody));\n    }\n  }\n};\n\n\ncompose(\n  connect(mapStateToProps, mapDispatchToProps),\n  withAuthRedirect\n)(Dialogs);\n//use HOC component - withAuthRedirect\n// let AuthRedirectComponent = withAuthRedirect(Dialogs);\n//\n// const DialogsContainer = connect(mapStateToProps, mapDispatchToProps)(AuthRedirectComponent);\n\nexport default\ncompose(\n  connect(mapStateToProps, mapDispatchToProps),\n  withAuthRedirect\n)(Dialogs);\n"],"sourceRoot":""}