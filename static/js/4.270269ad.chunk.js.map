{"version":3,"sources":["../node_modules/redux-form/es/Form.js","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Profile/ProfileInfo/ProfileStatus.jsx","components/Profile/ProfileInfo/ProfileStatusWithHooks.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"names":["Form","_Component","props","_this","call","this","_reduxForm","Error","_proto","prototype","UNSAFE_componentWillMount","registerInnerOnSubmit","onSubmit","render","_this$props","rest","createElement","propTypes","func","isRequired","object","module","exports","React","Component","ProfileStatusWithHooks","useState","editMode","setEditMode","status","setStatus","useEffect","onDoubleClick","onChange","e","currentTarget","value","autoFocus","onBlur","updateStatus","ProfileInfo","profile","className","s","descriptionBlock","profileImg","src","photos","small","userLogo","alt","Preloader","Post","item","post","likesCount","maxLength10","maxLength","minLength2","minLength","MyPosts","memo","postsElements","posts","map","p","id","key","postsBlock","AddNewPostFormRedux","values","addPost","newPostText","reduxForm","form","handleSubmit","Field","name","component","Textarea","validate","required","MyPostsContainer","connect","state","profilePage","dispatch","addPostActionCreator","Profile","ProfileContainer","userId","match","params","authorizedUserId","getUserProfile","getUserStatus","compose","auth","isAuth","withRouter","withAuthRedirect"],"mappings":"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","file":"static/js/4.270269ad.chunk.js","sourcesContent":["import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/objectWithoutPropertiesLoose\";\nimport _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nimport React, { Component } from 'react';\nimport { polyfill } from 'react-lifecycles-compat';\nimport PropTypes from 'prop-types';\nimport { withReduxForm } from './ReduxFormContext';\n\nvar Form =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(Form, _Component);\n\n  function Form(props) {\n    var _this;\n\n    _this = _Component.call(this, props) || this;\n\n    if (!props._reduxForm) {\n      throw new Error('Form must be inside a component decorated with reduxForm()');\n    }\n\n    return _this;\n  }\n\n  var _proto = Form.prototype;\n\n  _proto.UNSAFE_componentWillMount = function UNSAFE_componentWillMount() {\n    this.props._reduxForm.registerInnerOnSubmit(this.props.onSubmit);\n  };\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        _reduxForm = _this$props._reduxForm,\n        rest = _objectWithoutPropertiesLoose(_this$props, [\"_reduxForm\"]);\n\n    return React.createElement(\"form\", rest);\n  };\n\n  return Form;\n}(Component);\n\nForm.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n  _reduxForm: PropTypes.object\n};\npolyfill(Form);\nexport default withReduxForm(Form);","// extracted by mini-css-extract-plugin\nmodule.exports = {\"descriptionBlock\":\"ProfileInfo_descriptionBlock__3cd8Y\",\"profileImg\":\"ProfileInfo_profileImg__3mXT7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBlock\":\"MyPosts_postsBlock__2ifKf\",\"posts\":\"MyPosts_posts__3tZ1c\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__ihtu9\"};","import React from 'react';\n\nclass ProfileStatus extends React.Component {\n  //local state\n  state = {\n    editMode: false,\n    status: this.props.status\n  };\n  activateEditMode = () => {\n    this.setState({\n      editMode: true\n    });\n  };\n  deactivateEditMode = () => {\n    this.setState({\n      editMode: false\n    });\n    this.props.updateStatus(this.state.status);\n  };\n\n  onStatusChange = (e) => {\n    this.setState({\n      status: e.currentTarget.value\n    });\n  };\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    if(prevProps.status !== this.props.status) {\n      this.setState({\n        status: this.props.status\n      });\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        {!this.state.editMode &&\n        <div>\n          <span onDoubleClick={this.activateEditMode}>{this.props.status || 'ddd'}</span>\n        </div>\n        }\n        {this.state.editMode &&\n        <div>\n          <input onChange={this.onStatusChange} autoFocus={true} onBlur={this.deactivateEditMode}\n                 value={this.state.status}/>\n        </div>\n        }\n      </div>\n    );\n  }\n}\n\n\nexport default ProfileStatus;\n","import React, {useState, useEffect} from 'react';\n\nexport const ProfileStatusWithHooks = (props) => {\n    let [editMode,setEditMode]  = useState(false);\n    let [status, setStatus]  = useState(props.status);\n\n    useEffect( () => {\n        setStatus(props.status)\n    },[props.status]);\n\n    const activateEditMode = () => {\n        setEditMode(true);\n    };\n\n    const deactivateEditMode = () => {\n        setEditMode(false);\n        props.updateStatus(status);\n    };\n\n    const onStatusChange = (e) => {\n             setStatus(e.currentTarget.value);\n    };\n\n    return (\n        <div>\n            {!editMode &&\n            <div>\n                <span onDoubleClick={activateEditMode}>{props.status || 'ddd'}</span>\n            </div>\n            }\n            {editMode &&\n            <div>\n                <input onChange={onStatusChange}\n                       autoFocus={true}\n                       onBlur={deactivateEditMode}\n                       value={status}\n                />\n            </div>\n            }\n        </div>\n    );\n};\n\n\nexport default ProfileStatusWithHooks;\n","import React from 'react';\nimport s from './ProfileInfo.module.css'\nimport ProfileStatus from \"./ProfileStatus\";\nimport Preloader from \"../../common/Preloader/Preloader\";\nimport ProfileStatusWithHooks from \"./ProfileStatusWithHooks\";\nimport userLogo from \"../../../assets/images/user-logo.png\";\n\nconst ProfileInfo = ({profile, status, updateStatus}) => {\n  if (!profile) {\n    return <Preloader/>;\n  }\n    return (\n        <div>\n            <div className={s.descriptionBlock}>\n              <img className={s.profileImg} src={profile.photos.small!= null ? profile.photos.small : userLogo} alt=\"profile-img\"/>\n              <ProfileStatusWithHooks status={status} updateStatus={updateStatus}/>\n            </div>\n        </div>\n    );\n};\n\nexport default ProfileInfo;\n","import s from \"./Post.module.css\";\nimport React from \"react\";\n\n\nconst Post = (props) => {\n  return (\n    <div className={s.item}>\n      <img src=\"https://upload.wikimedia.org/wikipedia/commons/9/96/User_icon-cp.png\" alt=\"logo-user\"/>{props.post}\n      <div><span>likes: {props.likesCount}</span></div>\n    </div>\n  )\n};\n\nexport default Post;\n","import React from \"react\";\nimport s from './MyPosts.module.css'\nimport Post from \"./Post/Post\";\nimport {Field, Form, reduxForm} from \"redux-form\";\nimport {maxLength, minLength, required} from \"../../../utils/validators/validators\";\nimport {Textarea} from \"../../common/FormControls/FormControls\";\n\nconst maxLength10 = maxLength(10);\nconst minLength2 = minLength(2);\n\nconst MyPosts = React.memo( props => {\n    let postsElements = props.posts.map(p => <Post id={p.id} post={p.post} likesCount={p.likesCount}\n                                                   key={p.id}/>);\n    // let newPostElement = React.createRef();\n\n    let onAddPost = (values) => {\n        props.addPost(values.newPostText);\n    };\n\n    return (\n        <div className={s.postsBlock}>\n            <h3>My posts</h3>\n            <AddNewPostFormRedux onSubmit={onAddPost}/>\n\n            <div className={s.posts}>\n                {postsElements}\n            </div>\n        </div>\n    )\n});\n\nconst AddNewPostForm = (props) => {\n  return (\n    <Form onSubmit={props.handleSubmit}>\n      <div>\n        <Field name={\"newPostText\"}\n               component={Textarea}\n               validate={[required, maxLength10, minLength2]}\n        />\n      </div>\n      <div>\n        <button>Add post</button>\n      </div>\n\n    </Form>\n  )\n};\nconst AddNewPostFormRedux = reduxForm({form: \"ProfileAddNewPostForm\"})(AddNewPostForm);\n\nexport default MyPosts;\n\n\n","import React from \"react\";\nimport {addPostActionCreator} from \"../../../redux/profile-reducer\";\nimport MyPosts from \"./MyPosts\";\nimport {connect} from \"react-redux\";\n\n\nlet mapStateToProps = (state) => {\n  return {\n    posts: state.profilePage.posts,\n    newPostText: state.profilePage.newPostText\n  }\n};\n\nlet mapDispatchToProps = (dispatch) => {\n  return {\n    addPost: (newPostText) => {\n      dispatch(addPostActionCreator(newPostText));\n    }\n  }\n};\n\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);\n\nexport default MyPostsContainer;\n\n\n","import React from 'react'\nimport ProfileInfo from './ProfileInfo/ProfileInfo'\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\n\nconst Profile = (props) => {\n\n  return (\n    <div>\n      <ProfileInfo profile={props.profile} status={props.status} updateStatus={props.updateStatus}/>\n      <MyPostsContainer/>\n    </div>\n  )\n};\n\nexport default Profile\n","import React from 'react';\nimport Profile from \"./Profile\";\nimport {connect} from \"react-redux\";\nimport {getUserProfile, getUserStatus, updateStatus} from \"../../redux/profile-reducer\";\nimport {withRouter} from \"react-router-dom\";\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\nimport {compose} from \"redux\";\n\nclass ProfileContainer extends React.Component {\n    componentDidMount() {\n        let userId = this.props.match.params.userId;\n        if (!userId) {\n            userId = this.props.authorizedUserId;\n        }\n        this.props.getUserProfile(userId);\n        this.props.getUserStatus(userId);\n    }\n\n    render() {\n        return (\n            <div>\n                <Profile {...this.props} profile={this.props.profile} status={this.props.status}\n                         updateStatus={this.props.updateStatus}/>\n            </div>\n        )\n    }\n}\n\n//use HOC component - withAuthRedirect\nlet mapStateToProps = (state) => (\n    {\n        profile: state.profilePage.profile,\n        status: state.profilePage.status,\n        authorizedUserId: state.auth.userId,\n        isAuth: state.auth.isAuth\n    });\n\nexport default compose(\n    connect(mapStateToProps, {getUserProfile, getUserStatus, updateStatus}),\n    withRouter,\n    withAuthRedirect\n)(ProfileContainer);\n"],"sourceRoot":""}